---
import { Image } from 'astro:assets';
import 'swiper/css';
import 'swiper/css/effect-fade';

interface Props {
  slides: {
    image: string;
  }[];
  title: string;
  subtitle: string;
}

const { slides, title, subtitle } = Astro.props;
---

<div class="relative w-full h-[500px] md:h-[600px] mt-[70px]">
  <div class="swiper h-full">
    <div class="swiper-wrapper">
      {
        slides.map((slide) => (
          <div class="swiper-slide relative">
            <div class="absolute inset-0 backdrop-blur-[2px] bg-black/30 z-10"></div>
            <img
              src={slide.image}
              alt={title}
              class="w-full h-full object-cover"
            />
            <div class="absolute inset-0 z-20 flex flex-col items-center justify-center text-center px-4">
              <h2 class="text-3xl md:text-5xl font-bold text-white mb-4">
                {title}
              </h2>
              <p class="text-lg md:text-xl text-white max-w-2xl">
                {subtitle}
              </p>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</div>

<script>
  import Swiper from 'swiper';
  import { EffectFade, Autoplay } from 'swiper/modules';

  new Swiper('.swiper', {
    modules: [EffectFade, Autoplay],
    effect: 'fade',
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false,
    },
  });
</script>

<style>
  .swiper {
    width: 100%;
    height: 100%;
  }

  .swiper-slide {
    background-position: center;
    background-size: cover;
  }
</style> 